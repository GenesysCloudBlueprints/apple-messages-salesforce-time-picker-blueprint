{
  "name": "Get Events",
  "integrationType": "salesforce-datadip",
  "actionType": "custom",
  "config": {
    "request": {
      "requestUrlTemplate": "/services/data/v58.0/query?q=SELECT+Id%2C+Subject%2C+StartDateTime%2C+EndDateTime%2C+Location%2C+Description%2C+OwnerId%2C+WhoId%2C+WhatId+FROM+Event+WHERE+StartDateTime+%3E%3D+${input.startDate}+AND+EndDateTime+%3C%3D+${input.endDate}+AND+OwnerId+%3D+'${input.ownerId}'+ORDER+BY+StartDateTime+LIMIT+${input.maxResults}",
      "requestType": "GET",
      "headers": {
        "Accept": "application/json"
      },
      "requestTemplate": "${input.rawRequest}"
    },
    "response": {
      "translationMap": {},
      "translationMapDefaults": {},
      "successTemplate": "${rawResult}"
    }
  },
  "contract": {
    "input": {
      "inputSchema": {
        "type": "object",
        "required": ["ownerId", "maxResults", "endDate", "startDate"],
        "properties": {
          "startDate": {
            "type": "string",
            "description": "Start date in ISO format (e.g., 2024-01-01T00:00:00Z)"
          },
          "endDate": {
            "type": "string",
            "description": "End date in ISO format (e.g., 2024-01-31T23:59:59Z)"
          },
          "ownerId": {
            "type": "string",
            "description": "Salesforce User ID (e.g., 005gK000003Qg9x)"
          },
          "maxResults": {
            "type": "integer",
            "description": "Maximum number of results to return (set to a high number if you want all)"
          }
        }
      }
    },
    "output": {
      "successSchema": {
        "type": "object",
        "properties": {
          "totalSize": {
            "type": "integer"
          },
          "done": {
            "type": "boolean"
          },
          "records": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "attributes": {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string"
                    },
                    "url": {
                      "type": "string"
                    }
                  }
                },
                "Id": {
                  "type": "string"
                },
                "Subject": {
                  "type": "string"
                },
                "StartDateTime": {
                  "type": "string"
                },
                "EndDateTime": {
                  "type": "string"
                },
                "Description": {
                  "type": "string"
                },
                "OwnerId": {
                  "type": "string"
                },
                "Location": {
                  "type": "string"
                },
                "WhoId": {
                  "type": "string"
                },
                "WhatId": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    }
  },
  "secure": false
}
